<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>SVPWM</title>
    <url>/2025/02/26/SVPWM/</url>
    <content><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>SVPWM(Space Vector Pulse Width Modulation)，即电压空间矢量调制，是一种PWM生成方法，其作用是在主电路中生成给定的电压信号，而不是电机控制方法，这里需要与电机矢量控制做一个区分。</p>
<p>SVPWM给定的是目标电压矢量，输出的是六个PWM波，这六个PWM波控制IGBT的通断，在主电路中生成三相PWM，三相PWM的基波合成起来就是目标电压矢量。</p>
<h2 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h2><p>假设电机内部绕组接法为星形接法，以如下图所示的IGBT逆变器为例来进行说明</p>
<img src="/images/SVPWM/img1.png" alt="img1" width=50% height=50%>

<p>设$S_A&#x3D;1$代表A相上管通，$S_A&#x3D;0$代表A相下管通，$S_B,S_C$类似设定，则可以得到SVPWM的基本电压矢量为下图$u_0 ~ u_7$所示</p>
<img src="/images/SVPWM/img2.png" alt="img2" width=50% height=50%>

<p>矢量的合成应该遵循相邻原则和平均值等效原则。设这六个区分别为$Ⅰ ~ Ⅵ$，假设现在目标电压矢量处在$Ⅰ$区，那么应该由基本电压矢量$u_1和u_2$合成。如果设开关周期时间为$T_0$，$u_1$作用时间为$t_1$，$u_2$作用时间为$t_2$，那么应该有</p>
<p>$$<br>T_0u_s&#x3D;t_1u_1+t_2u_2<br>$$</p>
<p>根据三角形的正弦定理和余弦定理，就可以算出$t_1,t_2$的大小</p>
<p>如果$t_1+t_2&lt;T_0$，多出来的时间就是零矢量的作用时间，$t_0&#x3D;T_0-t_1-t_2$</p>
<p>如果$t_1+t_2&gt;T_0$，则令$t_1’&#x3D;\frac{t_1}{t_1+t_2}T_0,t_2’&#x3D;\frac{t_2}{t_1+t_2}T_0$</p>
<p>用上述$t_1’,t_2’$代替原有的导通时间</p>
<p>但是$t_1,t_2,t_0$在$T_0$中的时间分配是自由的，一般来说，一方面希望尽量减少开关次数减少开关损耗，另一方面希望减少谐波成分</p>
<p>一般而言有两种实现方式，分别是零矢量集中和零矢量分散方式</p>
<p>以上图img2为例，集中和分散分别对应于img3和img4</p>
<img src="/images/SVPWM/img3.png" alt="img3" width=50% height=50%>

<img src="/images/SVPWM/img4.png" alt="img4" width=50% height=50%>

<p>集中的优势在于开关损耗较小，但是由于零矢量单次停留时间过长，会导致谐波成分增加</p>
<p>而分散的优劣势则恰恰与集中相反</p>
<h2 id="Simulink实现"><a href="#Simulink实现" class="headerlink" title="Simulink实现"></a>Simulink实现</h2><p>总体的形状应该如img5所示，其中$u_\alpha,u_\beta$给定，也就是说，$u_s$给定，直流电压$U_d$和开关周期时间$T_0$已知</p>
<img src="/images/SVPWM/img5.png" alt="img5" width=50% height=50%>

<p>为了实现功能，可以粗略的将整个模块分为三部分：电压矢量区块检测模块、$T_1,T_2$计算模块和PWM波生成模块</p>
<h3 id="电压矢量区块检测模块"><a href="#电压矢量区块检测模块" class="headerlink" title="电压矢量区块检测模块"></a>电压矢量区块检测模块</h3><p>可以用投影的方式确定电压矢量所在区块，如图img6所示，将电压矢量往$1~3$三个方向投影，则可以得到投影大小为</p>
<img src="/images/SVPWM/img6.png" alt="img6" width=50% height=50%>

<p>$$<br>\begin{cases}<br>u_{ref1}&#x3D;u_\beta \\<br>u_{ref2}&#x3D;\frac{\sqrt{3}}{2}u_\alpha-\frac{1}{2}u_\beta \\<br>u_{ref3}&#x3D;-\frac{\sqrt{3}}{2}u_\alpha-\frac{1}{2}u_\beta<br>\end{cases}<br>$$</p>
<p>定义一个二进制数$N&#x3D;CBA_2$,如果$u_{ref1}&gt;0$，则$A&#x3D;1$，否则$A&#x3D;0$。其余C对应$u_{ref3}$，B对应$u_{ref2}$，类似定义</p>
<p>那么可以得出</p>
<table>
<thead>
<tr>
<th>N</th>
<th>3</th>
<th>1</th>
<th>5</th>
<th>4</th>
<th>6</th>
<th>2</th>
</tr>
</thead>
<tbody><tr>
<td>扇区</td>
<td>Ⅰ</td>
<td>Ⅱ</td>
<td>Ⅲ</td>
<td>Ⅳ</td>
<td>Ⅴ</td>
<td>Ⅵ</td>
</tr>
</tbody></table>
<p>在Simulink当中的实现如img7所示</p>
<img src="/images/SVPWM/img7.png" alt="img7" width=50% height=50%>

<h3 id="T-1-T-2-计算模块"><a href="#T-1-T-2-计算模块" class="headerlink" title="$T_1,T_2$计算模块"></a>$T_1,T_2$计算模块</h3><p>以第Ⅰ扇区为例，设$U_{dc}$为直流电压大小，则$|u_1|&#x3D;|u_2|&#x3D;…&#x3D;|u_6|&#x3D;\frac{2}{3}U_{dc}$</p>
<p>$$<br>\begin{cases}<br>u_\beta&#x3D;\frac{t_2}{T_0}u_2sin\frac{\pi}{3} \\<br>u_\alpha&#x3D;\frac{t_2}{T_0}u_2cos\frac{\pi}{3}+\frac{t_1}{T_0}u_1<br>\end{cases}<br>$$</p>
<p>于是可得</p>
<p>$$<br>\begin{cases}<br>t_1&#x3D;\frac{\sqrt{3}T_0}{U_{dc}}(\frac{\sqrt{3}}{2}u_\alpha-\frac{1}{2}u_\beta) \\<br>t_2&#x3D;\frac{\sqrt{3}T_0}{U_{dc}}u_\beta<br>\end{cases}<br>$$</p>
<p>在其他区同理可以计算作用时间</p>
<p>在这里可以对所有情况做一个归纳</p>
<p>定义:</p>
<p>$$<br>\begin{cases}<br>X&#x3D;\frac{\sqrt{3}T_0}{U_{dc}}u_\beta \\<br>Y&#x3D;\frac{\sqrt{3}T_0}{U_{dc}}(\frac{\sqrt{3}}{2}u_\alpha+\frac{1}{2}u_\beta) \\<br>Z&#x3D;\frac{\sqrt{3}T_0}{U_{dc}}(-\frac{\sqrt{3}}{2}u_\alpha+\frac{1}{2}u_\beta)<br>\end{cases}<br>$$</p>
<p>这样不同N值对应的时间可以总结为下表</p>
<table>
<thead>
<tr>
<th>N</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody><tr>
<td>$T_1$</td>
<td>Z</td>
<td>Y</td>
<td>-Z</td>
<td>-X</td>
<td>X</td>
<td>-Y</td>
</tr>
<tr>
<td>$T_2$</td>
<td>Y</td>
<td>-X</td>
<td>X</td>
<td>Z</td>
<td>-Y</td>
<td>-Z</td>
</tr>
</tbody></table>
<p>在Simulink当中的实现如img8和img9所示</p>
<img src="/images/SVPWM/img8.png" alt="img8" width=50% height=50%>

<img src="/images/SVPWM/img9.png" alt="img9" width=50% height=50%>

<h3 id="PWM波生成模块"><a href="#PWM波生成模块" class="headerlink" title="PWM波生成模块"></a>PWM波生成模块</h3><p>要生成PWM波需要确定$a,b,c$三管的开关时间，下面以第Ⅰ扇区，采用零矢量分散式为例</p>
<img src="/images/SVPWM/img4.png" alt="img4" width=50% height=50%>

<p>这里可以参考前面的img4，可以看到三个管的开启时间分别为</p>
<p>$$<br>\begin{cases}<br>T_{a1}&#x3D;\frac{T_0-t_1-t_2}{4} \\<br>T_{b1}&#x3D;T_{a1}+\frac{1}{2}t_1 \\<br>T_{c1}&#x3D;T_{b1}+\frac{1}{2}t_2<br>\end{cases}<br>$$</p>
<p>注：零矢量集中式则可以参考img3推得</p>
<p>对于所有扇区的情况，如果定义$T_a,T_b,T_c$分别为三个管开启的时间，可以将开启时间总结为下表</p>
<table>
<thead>
<tr>
<th>N</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody><tr>
<td>$T_A$</td>
<td>$T_{b1}$</td>
<td>$T_{a1}$</td>
<td>$T_{a1}$</td>
<td>$T_{c1}$</td>
<td>$T_{c1}$</td>
<td>$T_{b1}$</td>
</tr>
<tr>
<td>$T_B$</td>
<td>$T_{a1}$</td>
<td>$T_{c1}$</td>
<td>$T_{b1}$</td>
<td>$T_{b1}$</td>
<td>$T_{a1}$</td>
<td>$T_{c1}$</td>
</tr>
<tr>
<td>$T_C$</td>
<td>$T_{c1}$</td>
<td>$T_{b1}$</td>
<td>$T_{c1}$</td>
<td>$T_{a1}$</td>
<td>$T_{b1}$</td>
<td>$T_{a1}$</td>
</tr>
</tbody></table>
<p>在Simulink当中的实现如img10所示</p>
<img src="/images/SVPWM/img10.png" alt="img10" width=50% height=50%>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>将所有模块联合起来，SVPWM的内部结构就如img11所示</p>
<img src="/images/SVPWM/img11.png" alt="img11" width=50% height=50%>

<h2 id="三角接情况"><a href="#三角接情况" class="headerlink" title="三角接情况"></a>三角接情况</h2><p>以上论述了电机绕组为星形接法时的情况，那么当绕组为三角形接法时情况会发生什么变化呢？</p>
<p>事实上，基本原理并没有发生变化，只不过基本电压矢量旋转了30°，开关与电压矢量的对应关系发生了改变</p>
<p>后续的电压矢量作用时间计算模块和PWM生成模块按照改变后的关系分别计算即可。</p>
]]></content>
      <categories>
        <category>电机控制</category>
      </categories>
      <tags>
        <tag>SVPWM</tag>
        <tag>Simulink</tag>
      </tags>
  </entry>
  <entry>
    <title>latex语法</title>
    <url>/2025/06/10/latex%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最早接触到latex是创建这个网站的时候，因为我的文章中涉及大量的专业公式，而用latex处理会比较方便。再之后，就会发现latex在简历制作、毕业论文写作方面都有很多的应用，在文章排版的方面具有天然的优势，个人写作的时候非常舒适。</p>
<p>但当然latex同样具有缺点，最明显的缺点是团队协作性，如果遇到一个需要团队合作完成的项目文书，使用latex编辑将导致其他团队成员不好进行批注，并且latex具有一定门槛，部分专业的人员可能对latex并不熟练，因此直接修改源代码也不是很方便。还有一个方法是用latex生成PDF，在将PDF转为word，但此方法bug较多，且不如直接使用word进行编辑。</p>
<p>总而言之，在某些应用场景下，就编写本网站博文中的专业公式时，latex是更为方便的工具。现将在此过程中常用到的一些语法汇总如下，方便查阅。</p>
<h2 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h2><h3 id="希腊字母"><a href="#希腊字母" class="headerlink" title="希腊字母"></a>希腊字母</h3><table>
<thead>
<tr>
<th>字母</th>
<th>代码</th>
<th>字母</th>
<th>代码</th>
<th>字母</th>
<th>代码</th>
<th>字母</th>
<th>代码</th>
</tr>
</thead>
<tbody><tr>
<td>$\alpha$</td>
<td>\alpha</td>
<td>$\beta$</td>
<td>\beta</td>
<td>$\theta$</td>
<td>\theta</td>
<td>$\gamma$</td>
<td>\gamma</td>
</tr>
<tr>
<td>$\pi$</td>
<td>\pi</td>
<td>$\phi$</td>
<td>\phi</td>
<td>$\Phi$</td>
<td>\Phi</td>
<td>$\varphi$</td>
<td>\varphi</td>
</tr>
<tr>
<td>$\mu$</td>
<td>\mu</td>
<td>$\sigma$</td>
<td>\sigma</td>
<td>$\psi$</td>
<td>\psi</td>
<td>$\Psi$</td>
<td>\Psi</td>
</tr>
<tr>
<td>$\tau$</td>
<td>\tau</td>
<td>$\Delta$</td>
<td>\Delta</td>
<td>$\omega$</td>
<td>\omega</td>
<td>$\varepsilon$</td>
<td>\varepsilon</td>
</tr>
</tbody></table>
<p>大写首字母代表大写符号，小写首字母代表小写符号</p>
<h3 id="特殊格式"><a href="#特殊格式" class="headerlink" title="特殊格式"></a>特殊格式</h3><table>
<thead>
<tr>
<th>样式</th>
<th>代码</th>
<th>样式</th>
<th>代码</th>
<th>样式</th>
<th>代码</th>
<th>样式</th>
<th>代码</th>
</tr>
</thead>
<tbody><tr>
<td>$\hat{a}$</td>
<td>\hat{a}</td>
<td>$\tilde{a}$</td>
<td>\tilde{a}</td>
<td>$\dot{a}$</td>
<td>\dot{a}</td>
<td>$\ddot{a}$</td>
<td>\ddot{a}</td>
</tr>
<tr>
<td>$\bar{a}$</td>
<td>\bar{a}</td>
<td>$\vec{a}$</td>
<td>\vec{a}</td>
<td>$\widehat{A}$</td>
<td>\widehat{A}</td>
<td>$\widetilde{A}$</td>
<td>\widetilde{A}</td>
</tr>
</tbody></table>
<h3 id="特殊运算符"><a href="#特殊运算符" class="headerlink" title="特殊运算符"></a>特殊运算符</h3><table>
<thead>
<tr>
<th>样式</th>
<th>代码</th>
<th>样式</th>
<th>代码</th>
<th>样式</th>
<th>代码</th>
<th>样式</th>
<th>代码</th>
</tr>
</thead>
<tbody><tr>
<td>$\sum$</td>
<td>\sum</td>
<td>$\prod$</td>
<td>\prod</td>
<td>$\int$</td>
<td>\int</td>
<td>$\oint$</td>
<td>\oint</td>
</tr>
</tbody></table>
<h2 id="格式语法"><a href="#格式语法" class="headerlink" title="格式语法"></a>格式语法</h2><h3 id="方程组"><a href="#方程组" class="headerlink" title="方程组"></a>方程组</h3><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;cases&#125;</span><br><span class="line">    X=1 <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line">    Y=2</span><br><span class="line"><span class="keyword">\end</span>&#123;cases&#125;</span><br></pre></td></tr></table></figure>

<p>上述代码效果如下</p>
<p>$$<br>\begin{cases}<br>    X&#x3D;1 \\<br>    Y&#x3D;2<br>\end{cases}<br>$$</p>
<p>其中，<code>\begin&#123;cases&#125;</code>和<code>\end&#123;cases&#125;</code>是声明一个方程组模块，<code>\\\\</code>是换行，为了获得更好的兼容性，推荐换行使用<code>\\\\</code>而不是<code>\\</code></p>
<h3 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h3><p>在latex中生成矩阵可以通过关键字<code>matrix</code>生成，也可以使用<code>array</code>生成</p>
<p><code>matrix</code>是latex自带的矩阵关键字，下面展示其效果</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;matrix&#125;</span><br><span class="line">    a <span class="built_in">&amp;</span> b <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line">    c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>&#123;matrix&#125;</span><br></pre></td></tr></table></figure>

<p>$$<br>\begin{matrix}<br>    a &amp; b \\<br>    c &amp; d<br>\end{matrix}<br>$$</p>
<p>其中<code>matrix</code>生成的是不带括号的矩阵，latex给出了带括号的关键字</p>
<table>
<thead>
<tr>
<th>样式</th>
<th>关键字</th>
<th>样式</th>
<th>关键字</th>
<th>样式</th>
<th>关键字</th>
<th>样式</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>中括号</td>
<td>bmatrix</td>
<td>小括号</td>
<td>pmatrix</td>
<td>大括号</td>
<td>Bmatrix</td>
<td>行列式</td>
<td>vmatrix</td>
</tr>
</tbody></table>
<p>例如，如果我想使用中括号，那么只需要将matrix替换为bmatrix，展示如下</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;bmatrix&#125;</span><br><span class="line">    a <span class="built_in">&amp;</span> b <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line">    c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>&#123;bmatrix&#125;</span><br></pre></td></tr></table></figure>

<p>$$<br>\begin{bmatrix}<br>    a &amp; b \\<br>    c &amp; d<br>\end{bmatrix}<br>$$</p>
<p>然而，有时会遇到更复杂的情况，比如说需要对矩阵进行分块，这时候<code>matrix</code>可能就不再好用了，需要用到<code>array</code></p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\left</span>(</span><br><span class="line"><span class="keyword">\begin</span>&#123;array&#125;&#123;cc&#125;</span><br><span class="line">    a <span class="built_in">&amp;</span> b <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line">    c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>&#123;array&#125;</span><br><span class="line"><span class="keyword">\right</span>)</span><br></pre></td></tr></table></figure>

<p>$$<br>\left(<br>\begin{array}{cc}<br>    a &amp; b \\<br>    c &amp; d<br>\end{array}<br>\right)<br>$$</p>
<p>上面展示了<code>array</code>的基础用法，一个<code>c</code>代表一列，几个<code>c</code>代表几列，<code>\left(</code>和<code>\right)</code>代表自动适应大小的左右括号</p>
<p>如果需要加竖线，只需要在<code>c</code>之间打一个竖线即可，实线是<code>|</code>，虚线是<code>:</code>，例如</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\left</span>(</span><br><span class="line"><span class="keyword">\begin</span>&#123;array&#125;&#123;c:c&#125;</span><br><span class="line">    a <span class="built_in">&amp;</span> b <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line">    c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>&#123;array&#125;</span><br><span class="line"><span class="keyword">\right</span>)</span><br></pre></td></tr></table></figure>

<p>$$<br>\left(<br>\begin{array}{c:c}<br>    a &amp; b \\<br>    c &amp; d<br>\end{array}<br>\right)<br>$$</p>
<p>如果需要加横线，需要在对应的行后加一段代码，实线是<code>\hline</code>，虚线是<code>\hdashline</code></p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\left</span>(</span><br><span class="line"><span class="keyword">\begin</span>&#123;array&#125;&#123;cc&#125;</span><br><span class="line">    a <span class="built_in">&amp;</span> b <span class="keyword">\\</span><span class="keyword">\\</span> <span class="keyword">\hline</span></span><br><span class="line">    c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>&#123;array&#125;</span><br><span class="line"><span class="keyword">\right</span>)</span><br></pre></td></tr></table></figure>

<p>$$<br>\left(<br>\begin{array}{cc}<br>    a &amp; b \\ \hline<br>    c &amp; d<br>\end{array}<br>\right)<br>$$</p>
]]></content>
      <categories>
        <category>CS</category>
      </categories>
      <tags>
        <tag>latex</tag>
      </tags>
  </entry>
  <entry>
    <title>书签</title>
    <url>/2024/11/08/%E4%B9%A6%E7%AD%BE/</url>
    <content><![CDATA[<h2 id="ZJU"><a href="#ZJU" class="headerlink" title="ZJU"></a>ZJU</h2><ul>
<li><a href="https://courses.zju.edu.cn/user/index">学在浙大</a></li>
<li><a href="http://tzzd.zju.edu.cn/">团在浙大</a></li>
<li><a href="http://zdbk.zju.edu.cn/">教务网本</a></li>
<li><a href="https://yjsy.zju.edu.cn/">教务网研</a></li>
<li><a href="http://ms.zju.edu.cn/">正版软件</a></li>
<li><a href="https://zjuers.com/rd?url=http://eta.zju.edu.cn/">ETA</a></li>
<li><a href="http://cwcx.zju.edu.cn/WFManager/login.jsp">计财处</a></li>
<li><a href="http://ee.office.zju.edu.cn/main.htm">浙大电院</a></li>
<li><a href="https://www.nexushd.org/">NexusHD</a></li>
</ul>
<hr>
<h2 id="学术"><a href="#学术" class="headerlink" title="学术"></a>学术</h2><ul>
<li><a href="https://scholar.google.com/">谷歌学术</a></li>
<li><a href="https://ieeexplore.ieee.org/Xplore/home.jsp">IEEE</a></li>
<li><a href="https://www.webofscience.com/wos/alldb/basic-search">Web-of-Science</a></li>
<li><a href="https://www.incopat.com/advancedSearch/simpleInit">专利检索</a></li>
<li><a href="https://www.cnki.net/">知网</a></li>
</ul>
<hr>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul>
<li><a href="https://github.com/">Github</a></li>
<li><a href="https://chatgpt.com/">Chatgpt</a></li>
<li><a href="https://chat.deepseek.com/">Deepseek</a></li>
<li><a href="https://www.zjuers.com/">ZJUer轻首页</a></li>
<li><a href="https://yinghezhinan.com/site/z-library/">Z-library</a></li>
</ul>
<hr>
<h2 id="论坛"><a href="#论坛" class="headerlink" title="论坛"></a>论坛</h2><ul>
<li><a href="https://www.cc98.org/">CC98</a></li>
<li><a href="https://www.1point3acres.com/">一亩三分地</a></li>
<li><a href="https://500px.com.cn/">500px</a></li>
</ul>
<hr>
<h2 id="镜像网站"><a href="#镜像网站" class="headerlink" title="镜像网站"></a>镜像网站</h2><ul>
<li><a href="https://mirrors.zju.edu.cn/">ZJU-Mirror</a></li>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/">THU-Mirror</a></li>
</ul>
<hr>
<h2 id="娱乐"><a href="#娱乐" class="headerlink" title="娱乐"></a>娱乐</h2><ul>
<li><a href="https://www.bilibili.com/">Bilibili</a></li>
<li><a href="https://www.huya.com/">虎牙</a></li>
<li><a href="https://www.czzy77.com/">影视</a></li>
<li><a href="https://www.mutedm.com/">动漫</a></li>
</ul>
<hr>
<h2 id="TOEFL"><a href="#TOEFL" class="headerlink" title="TOEFL"></a>TOEFL</h2><ul>
<li><a href="https://top.zhan.com/toefl/listen/alltpo.html">小站</a></li>
</ul>
]]></content>
      <categories>
        <category>书签</category>
      </categories>
      <tags>
        <tag>书签</tag>
        <tag>资源</tag>
      </tags>
  </entry>
  <entry>
    <title>电机建模</title>
    <url>/2024/11/13/%E7%94%B5%E6%9C%BA%E5%BB%BA%E6%A8%A1/</url>
    <content><![CDATA[<h2 id="电机建模能用来干什么"><a href="#电机建模能用来干什么" class="headerlink" title="电机建模能用来干什么"></a>电机建模能用来干什么</h2><ul>
<li>电机建模获得的模型是暂态，当时间足够长之后，电机建模的公式就是电机学中稳态情况下的公式【电机学】</li>
<li>拿到电机的参数之后，可以把电机当作传递函数，进行相应的控制【电机控制】</li>
<li>将模型输入仿真软件，就可以仿真出电机运行时的各个物理量【仿真算法】</li>
</ul>
<h2 id="正方向"><a href="#正方向" class="headerlink" title="正方向"></a>正方向</h2><p>在建模之前需要先规定正方向：</p>
<h3 id="电磁物理量正方向"><a href="#电磁物理量正方向" class="headerlink" title="电磁物理量正方向"></a>电磁物理量正方向</h3><h4 id="电动机原则"><a href="#电动机原则" class="headerlink" title="电动机原则"></a>电动机原则</h4><ol>
<li>磁链 $\psi$ : 磁链的正方向是线圈轴线的正方向</li>
<li>电流 $i$ : 正电流产生正磁链</li>
<li>电压 $u$ : 与电流为关联参考方向（负载的标法）</li>
<li>反电动势 $e$ : 阻碍磁场变化，与电流相反</li>
</ol>
<h4 id="发电机原则"><a href="#发电机原则" class="headerlink" title="发电机原则"></a>发电机原则</h4><ol>
<li>磁链 $\psi$ : 磁链的正方向是线圈轴线的正方向</li>
<li>电流 $I$ : 正电流产生负磁链</li>
<li>电压 $U$ : 与电流为非关联参考方向（电源的标法）</li>
<li>反电动势 $e$ : 阻碍磁场变化，与电流相同</li>
</ol>
<h3 id="机械物理量正方向"><a href="#机械物理量正方向" class="headerlink" title="机械物理量正方向"></a>机械物理量正方向</h3><h4 id="电动机原则-1"><a href="#电动机原则-1" class="headerlink" title="电动机原则"></a>电动机原则</h4><ol>
<li>电角速度 $\omega$ : 以电枢绕组为参考系，磁场的旋转方向为正方向</li>
<li>电磁转矩 $T_{em}$ : 电磁转矩正方向为旋转方向</li>
<li>负载转矩 $T_{L}$ ， 阻尼转矩 $T_{B}$ ， 惯性转矩 $T_{J}$ : 与旋转方向相反</li>
</ol>
<h4 id="发电机原则-1"><a href="#发电机原则-1" class="headerlink" title="发电机原则"></a>发电机原则</h4><ol>
<li>电角速度 $\omega$ : 以电枢绕组为参考系，磁场的旋转方向为正方向</li>
<li>外施转矩 $T_{m}$ : 电磁转矩正方向为旋转方向</li>
<li>电磁转矩 $T_{em}$ ， 阻尼转矩 $T_{B}$ ， 惯性转矩 $T_{J}$ : 与旋转方向相反</li>
</ol>
<p>e.g.</p>
<img src="/images/电机建模/img1.jpg" alt="img1" width=50% height=50%>

<h2 id="方程"><a href="#方程" class="headerlink" title="方程"></a>方程</h2><p>方程主要分为电磁方程和机械方程,不同电机整体思路类似,但是细节上有所区分,在这里先介绍几个概念。</p>
<h3 id="海氏算子"><a href="#海氏算子" class="headerlink" title="海氏算子"></a>海氏算子</h3><p>定义海氏算子<br>$$ p&#x3D;\frac{d}{dt}$$</p>
<h3 id="自感、互感"><a href="#自感、互感" class="headerlink" title="自感、互感"></a>自感、互感</h3><p>对于单个线圈而言，方程如下</p>
<h4 id="电动机原则-2"><a href="#电动机原则-2" class="headerlink" title="电动机原则"></a>电动机原则</h4><p>$$<br>\begin{cases}<br>u&#x3D;e+Ri \\<br>e&#x3D;p\psi \\<br>\psi&#x3D;Li<br>\end{cases}<br>$$</p>
<h4 id="发电机原则-2"><a href="#发电机原则-2" class="headerlink" title="发电机原则"></a>发电机原则</h4><p>$$<br>\begin{cases}<br>u&#x3D;e-Ri \\<br>e&#x3D;p\psi \\<br>\psi&#x3D;-Li<br>\end{cases}<br>$$</p>
<p>当引入多个线圈后，磁链方程中需要引入互感。方程可能因线圈轴线夹角，线圈正方向原则不同等原因，导致正负号变混乱。</p>
<p>这里规定，当线圈轴线夹角为锐角时互感为正，夹角为钝角时互感为负。而磁链方程按照线圈所使用的原则照写。</p>
<p>e.g.</p>
<img src="/images/电机建模/img2.jpg" alt="img2" width=50% height=50%>

<h3 id="伪静止线圈"><a href="#伪静止线圈" class="headerlink" title="伪静止线圈"></a>伪静止线圈</h3><p>等效后绕组的轴线与构成绕组的实际元件间存在相对运动，则称等效后的线圈为伪静止线圈</p>
<p>如果一个线圈为伪静止线圈，写电磁方程时，需要加上旋转电动势</p>
<h2 id="一般化电机"><a href="#一般化电机" class="headerlink" title="一般化电机"></a>一般化电机</h2><p>由于电机之间存在很多共性，有学者提出了一般化电机的概念，希望能够得到一个统一的电机模型。</p>
<p>一般化电机的定子绕组由$fd$和$kq$两个线圈构成，转子d轴和q轴上分别有两对电刷，极对数p&#x3D;1.</p>
<p>不管转子中的绕组是叠绕组、波绕组还是其他什么绕组，如果从d轴和q轴两个端口看，可以将转子绕组等效为$d$和$q$两个线圈。</p>
<p>这是因为绕组的形式只是改变了绕组端部，而槽内的部分产生的反电动势不受影响。</p>
<p>一般化电机示意图如下所示</p>
<img src="/images/电机建模/img3.jpg" alt="img3" width=50% height=50%>

<h3 id="基本假设"><a href="#基本假设" class="headerlink" title="基本假设"></a>基本假设</h3><ol>
<li>磁路不饱和</li>
<li>不计剩磁、涡流、磁滞</li>
<li>气隙磁密按正弦规律分布</li>
<li>电枢漏磁不计</li>
<li>正交解耦</li>
</ol>
<h3 id="电磁方程"><a href="#电磁方程" class="headerlink" title="电磁方程"></a>电磁方程</h3><p>假设$fd$和$kq$线圈的正方向按照电动机原则，$d$和$q$线圈按照发电机原则，线圈轴线方向如图所示，则</p>
<img src="/images/电机建模/img4.jpg" alt="img4" width=50% height=50%>

<p>$$<br>\begin{cases}<br>u_{kq}&#x3D;e_{kq}+R_{kq}i_{kq} \\<br>u_{fd}&#x3D;e_{fd}+R_{fd}i_{fd} \\<br>u_{q}&#x3D;e_q+R_{q}i_{q} \\<br>u_{d}&#x3D;e_d+R_{d}i_{d}<br>\end{cases}<br>$$</p>
<p>由于u和i都是可以测量得到的量，就不需要继续化简了，接下来需要推导e的表达式</p>
<p>由于$kq$和$fd$线圈没有经过复杂的等效，可以得到，$e_{kq}&#x3D;p\psi_{kq},e_{fd}&#x3D;p\psi_{fd}$</p>
<p>$d$和$q$线圈的情况稍微需要推导一下，这里只推导$d$线圈的公式，$q$线圈的公式可以类似得到</p>
<p>由于q轴加不加电刷不影响从d轴电刷看进去的反电动势，故省略了q轴上的电刷</p>
<img src="/images/电机建模/img5.jpg" alt="img5" width=50% height=50%>

<p>由于之前假设了<a href="#%E5%9F%BA%E6%9C%AC%E5%81%87%E8%AE%BE">【气隙磁密按正弦规律分布】</a>，假设$B_d&#x3D;B_{md}\cos\theta,B_q&#x3D;B_{mq}\sin\theta$</p>
<p>由于<a href="#%E5%9F%BA%E6%9C%AC%E5%81%87%E8%AE%BE">【磁路不饱和】</a>，磁场线性叠加，先分析d轴方向磁场的作用，q轴类似</p>
<p>对于角度为$\theta_0$的线圈，由于流入此线圈的磁通和流出被此线圈分割后的右半圆的磁通相等，有</p>
<p>$$<br>\phi_0&#x3D;\int_{\theta_0-\pi}^{\theta_0} {B_dlr} {d\theta}&#x3D;2B_{md}lr\sin\theta_0<br>$$</p>
<p>设单位弧度下导体数为$z$，则有</p>
<p>$$<br>de&#x3D;z\frac{d\phi_0}{dt}d\theta_0&#x3D;(2lr\sin\theta_0\frac{dB_{md}}{dt}+2lrB_{md}\cos\theta_0\frac{d\theta_0}{dt})<br>$$</p>
<p>由于$\frac{d\theta_0}{dt}&#x3D;-\omega$，</p>
<p>$$<br>de&#x3D;z\frac{d\phi_0}{dt}d\theta_0&#x3D;(2lr\sin\theta_0\frac{dB_{md}}{dt}-2lrB_{md}\cos\theta_0\omega)zd\theta_0<br>$$</p>
<p>由于cos是偶函数，当e从0积到$\pi$时，第二项应为0，故</p>
<p>$$<br>e_{dt}’&#x3D;\int_0^\pi {de}&#x3D;4lrz\frac{dB_{md}}{dt}<br>$$</p>
<p>考虑q轴磁场作用，类似的有</p>
<p>$$<br>e_{dr}’&#x3D;-4lrzB_{mq}\omega<br>$$</p>
<p>这里t代表transformer，是变压器电势，也为感生电动势，r代表rotational，是旋转电动势。从这里可以看出，d轴磁场只产生感生电动势，q轴磁场只产生旋转电动势。</p>
<p>由于并联支路数为2，所以从电刷往里看的反电动势应为上述的一半，故</p>
<p>$$e_{dt}&#x3D;2lrz\frac{dB_{md}}{dt}$$<br>$$e_{dr}&#x3D;-2lrzB_{mq}\omega$$</p>
<p>若计算d轴和q轴磁通，可以发现，</p>
<p>$$\phi_d&#x3D;\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}} {B_dlr} {d\theta}&#x3D;2B_{md}lr$$<br>$$\phi_q&#x3D;\int_0^\pi{B_qlr}{d\theta}&#x3D;2B_{mq}lr$$</p>
<p>于是，进一步有</p>
<p>$$e_{dt}&#x3D;z\frac{d\phi_d}{dt}$$<br>$$e_{dr}&#x3D;-z\phi_q\omega$$</p>
<p>若计算d轴和q轴的磁链，又可以发现，</p>
<img src="/images/电机建模/img6.jpg" alt="img6" width=50% height=50%>

<p>$$\psi_d&#x3D;\int_{0}^{\frac{\pi}{2}} {2zB_{dm}lr\sin\theta} {d\theta}&#x3D;z\phi_d$$<br>$$\psi_q&#x3D;\int_{0}^{\frac{\pi}{2}} {2zB_{qm}lr\cos\theta} {d\theta}&#x3D;z\phi_q$$</p>
<p>所以，</p>
<p>$$e_{dt}&#x3D;p\psi_d$$<br>$$e_{dr}&#x3D;-\psi_q\omega$$<br>$$e_d&#x3D;e_{dt}+e_{dr}&#x3D;p\psi_d-\psi_q\omega$$</p>
<p>对于$q$线圈，同样的方法，只需要更改一下积分上下限，就可以得到</p>
<p>$$e_{qt}&#x3D;p\psi_q$$<br>$$e_{qr}&#x3D;\psi_d\omega$$<br>$$e_q&#x3D;e_{qt}+e_{qr}&#x3D;p\psi_q+\psi_d\omega$$</p>
<p>总结一下方程有</p>
<p>$$<br>\begin{cases}<br>u_d&#x3D;p\psi_d-\omega\psi_q-R_di_d \\<br>u_q&#x3D;p\psi_q+\omega\psi_d-R_qi_q \\<br>u_{fd}&#x3D;p\psi_{fd}+R_{fd}i_{fd} \\<br>u_{kq}&#x3D;p\psi_{kq}+R_{kq}i_{kq}<br>\end{cases}<br>$$</p>
<p>但是这个时候的表达式中的$\Psi_d$和$\Psi_q$还不是端口能够测量得到的变量，因此还需要进一步变形</p>
<p>由于<a href="#%E5%9F%BA%E6%9C%AC%E5%81%87%E8%AE%BE">【正交解耦】</a>，可得</p>
<p>$$<br>\begin{cases}<br>\psi_d&#x3D;-L_di_d+M_{afd}i_{fd} \\<br>\psi_q&#x3D;-L_qi_q+M_{akq}i_{kq} \\<br>\psi_{fd}&#x3D;L_{fd}i_{fd}-M_{fad}i_d \\<br>\psi_{kq}&#x3D;L_{kq}i_{kq}-M_{kaq}i_q<br>\end{cases}<br>$$</p>
<p>至此，电磁状态方程已经推导完毕，我们可以用矩阵的形式使其表达起来更加简洁，设</p>
<p>$$<br>U&#x3D;<br>\begin{bmatrix}<br>u_d \\<br>u_q \\<br>u_{fd} \\<br>u_{kq}<br>\end{bmatrix},R&#x3D;<br>\begin{bmatrix}<br>-R_d &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; -R_q &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; R_{fd} &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; R_{kq}<br>\end{bmatrix},I&#x3D;<br>\begin{bmatrix}<br>i_d \\<br>i_q \\<br>i_{fd} \\<br>i_{kq}<br>\end{bmatrix}<br>$$<br>$$<br>L&#x3D;<br>\begin{bmatrix}<br>-L_d &amp; 0 &amp; M_{afd} &amp; 0 \\<br>0 &amp; -L_q &amp; 0 &amp; M_{akq} \\<br>-M_{fad} &amp; 0 &amp; L_{fd} &amp; 0 \\<br>0 &amp; -M_{kaq} &amp; 0 &amp; L_{kq}<br>\end{bmatrix},G&#x3D;<br>\begin{bmatrix}<br>0 &amp; L_q &amp; 0 &amp; -M_{akq} \\<br>-L_d &amp; 0 &amp; M_{afd} &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 0<br>\end{bmatrix}<br>$$</p>
<p>则有</p>
<p>$$<br>U&#x3D;(R+Lp+\omega G)I<br>$$</p>
<p>这里可以看到，等效的绕组线圈出现了旋转电动势这一项</p>
<p>不失一般性的，当被等效的绕组为<a href="#%E4%BC%AA%E9%9D%99%E6%AD%A2%E7%BA%BF%E5%9C%88">【伪静止线圈】</a>时，会多出这一项</p>
<h3 id="机械方程"><a href="#机械方程" class="headerlink" title="机械方程"></a>机械方程</h3><p>按照发电机原则规定正方向</p>
<p>转矩方程$$T_m&#x3D;T_e+T_D+T_J$$</p>
<p>在这条方程中，$T_m$是可以控制的外部变量，$T_D&#x3D;B\omega,T_J&#x3D;Jp\omega$，因此需要获得$T_e$的表达式</p>
<p>为获得$T_e$可以使用能量守恒定律或者虚位移法等方法</p>
<h4 id="能量守恒定律推导-T-e"><a href="#能量守恒定律推导-T-e" class="headerlink" title="能量守恒定律推导$T_e$"></a>能量守恒定律推导$T_e$</h4><p>能量守恒$$电磁输入功率P_{dq}+机械输入功率P_m&#x3D;电磁储能功率+机械储能功率+电磁损耗+机械损耗$$</p>
<p>根据规定的正方向，$$P_{dq}&#x3D;-u_di_d-u_qi_q+u_{fd}i_{fd}+u{kq}i_{kq}$$</p>
<p>设，</p>
<p>$$<br>U’&#x3D;<br>\begin{bmatrix}<br>-u_d \\<br>-u_q \\<br>u_{fd} \\<br>u_{kq}<br>\end{bmatrix},R’&#x3D;<br>\begin{bmatrix}<br>R_d &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; R_q &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; R_{fd} &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; R_{kq}<br>\end{bmatrix}<br>$$<br>$$<br>L’&#x3D;<br>\begin{bmatrix}<br>L_d &amp; 0 &amp; -M_{afd} &amp; 0 \\<br>0 &amp; L_q &amp; 0 &amp; -M_{akq} \\<br>-M_{fad} &amp; 0 &amp; L_{fd} &amp; 0 \\<br>0 &amp; -M_{kaq} &amp; 0 &amp; L_{kq}<br>\end{bmatrix},G’&#x3D;<br>\begin{bmatrix}<br>0 &amp; -L_q &amp; 0 &amp; M_{akq} \\<br>L_d &amp; 0 &amp; -M_{afd} &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 0<br>\end{bmatrix}<br>$$</p>
<p>则有<br>$$<br>\begin{split}<br>P_{dq}&amp;&#x3D;U’^TI&#x3D;((R’+L’p+\omega G’)I)^TI \\<br>&amp;&#x3D; I^T(R’^T+L’^Tp+\omega G’^T)I \\<br>&amp;&#x3D;I^TRI+I^TL’^TpI+I^T\omega G’^TI<br>\end{split}<br>$$</p>
<p>$$<br>P_m&#x3D;\omega T_m&#x3D;\omega(T_e+T_D+T_J)<br>$$</p>
<p>而对于等式右边有</p>
<p>$$电磁储能功率&#x3D;I^TL’pI$$</p>
<p>$$机械储能功率&#x3D;\omega T_J$$</p>
<p>$$电磁损耗&#x3D;I^TR’I$$</p>
<p>$$机械损耗&#x3D;\omega T_D$$</p>
<p>因此，</p>
<p>$$\omega I^TG’I+\omega T_e&#x3D;0$$</p>
<p>所以，</p>
<p>$$<br>\begin{split}<br>T_e&amp;&#x3D;-I^TG’I \\<br>&amp;&#x3D;-<br>\begin{bmatrix}<br>i_d \\<br>i_q \\<br>i_{fd} \\<br>i_{kq} \\<br>\end{bmatrix}^T<br>\begin{bmatrix}<br>0 &amp; -L_q &amp; 0 &amp; -M_{akq} \\<br>L_d &amp; 0 &amp; -M_{afd} &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 0<br>\end{bmatrix}<br>\begin{bmatrix}<br>i_d \\<br>i_q \\<br>i_{fd} \\<br>i_{kq} \\<br>\end{bmatrix} \\<br>&amp;&#x3D;-<br>\begin{bmatrix}<br>i_d \\<br>i_q \\<br>i_{fd} \\<br>i_{kq} \\<br>\end{bmatrix}^T<br>\begin{bmatrix}<br>\psi_q \\<br>-\psi_d \\<br>0 \\<br>0<br>\end{bmatrix}&#x3D;\psi_d i_q-\psi_q i_d&#x3D;\frac{1}{\omega}(e_{qr}i_q+e_{dr}i_d)<br>\end{split}<br>$$</p>
<p>综上，将电磁转矩的表达式代入转矩方程中，可得</p>
<p>$$p\omega&#x3D;\frac{T_m-(\psi_d i_q-\psi_q i_d)-B\omega}{J}$$</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>这样一来，电磁方程和机械方程都有了，可以看到这两个方程当中互有另一个方程的状态变量，因此是耦合的</p>
<p>拿到模型后，可以参考<a href="#%E7%94%B5%E6%9C%BA%E5%BB%BA%E6%A8%A1%E8%83%BD%E7%94%A8%E6%9D%A5%E5%B9%B2%E4%BB%80%E4%B9%88">电机建模能用来干什么</a></p>
<p>本章当中仅仅涉及了一般化电机的内容，对于直流电机、异步电机、同步电机，实际上可以通过坐标变换进行转化，后续有机会将继续讨论</p>
]]></content>
      <categories>
        <category>电机控制</category>
      </categories>
      <tags>
        <tag>电机建模</tag>
        <tag>一般化电机</tag>
      </tags>
  </entry>
  <entry>
    <title>坐标变换</title>
    <url>/2025/03/11/%E5%9D%90%E6%A0%87%E5%8F%98%E6%8D%A2/</url>
    <content><![CDATA[<h2 id="基本定义"><a href="#基本定义" class="headerlink" title="基本定义"></a>基本定义</h2><p>坐标变换这种方法在电网络、电力电子、电机建模与控制等很多领域都有应用，本文章以三相永磁同步电机为背景，主要讨论三相与两相间的转化</p>
<p>对于三相永磁同步电机而言，定子绕组可以等效为a,b,c三相绕组，假设这三相绕组的方向如img1所示</p>
<img src="/images/坐标变换/img1.png" alt="img1" width=50% height="50%">

<p>对于这三相绕组的任意一个物理量，比如电流，定义</p>
<p>$$<br>\begin{equation}<br>    \boldsymbol{i_a}&#x3D;i_a\boldsymbol{a},\boldsymbol{i_b}&#x3D;i_b\boldsymbol{b},\boldsymbol{i_c}&#x3D;i_c\boldsymbol{c}<br>\end{equation}<br>$$</p>
<p>需要注意的是，这里的$i_a,i_b,i_c$代表的是电流的大小，并且代表的是瞬态过程</p>
<h2 id="恒相幅值变换"><a href="#恒相幅值变换" class="headerlink" title="恒相幅值变换"></a>恒相幅值变换</h2><p>定义综合矢量$\boldsymbol{i}&#x3D;k(\boldsymbol{i_a}+\boldsymbol{i_b}+\boldsymbol{i_c})$，这里的k是一个待定的系数</p>
<p>由于是恒相幅值变换，我们的目标是在稳态过程下，综合矢量的幅值等于a，b，c三相的幅值</p>
<p>本文先通过瞬态过程的推导得出公式，因为稳态过程就是瞬态过程的一个特例，所以可以直接代入公式，解得k的值</p>
<h3 id="瞬态过程"><a href="#瞬态过程" class="headerlink" title="瞬态过程"></a>瞬态过程</h3><p>要计算综合矢量的幅值，可以建立x-y坐标系，假设如图img2所示</p>
<img src="/images/坐标变换/img2.png" alt="img2" width=50% height="50%">

<p>容易得到</p>
<p>$$<br>\begin{cases}<br>    i_x&#x3D;k(i_a-\frac{1}{2}i_b-\frac{1}{2}i_c) \\<br>    i_y&#x3D;k(\frac{\sqrt{3}}{2}i_b-\frac{\sqrt{3}}{2}i_c)<br>\end{cases} \\<br>$$<br>$$<br>\begin{equation}<br>i&#x3D;|\boldsymbol{i}|&#x3D;k\sqrt{i_x^2+i_y^2}&#x3D;k\sqrt{\frac{1}{2}\sum\limits_{cyc}(i_a-i_b)^2}(1)<br>\end{equation}<br>$$</p>
<h3 id="稳态过程"><a href="#稳态过程" class="headerlink" title="稳态过程"></a>稳态过程</h3><p>对于稳态过程，可以假设三相是相位分别相差$\frac{2}{3}\pi$，且幅值完全相同的正弦波，即</p>
<p>$$<br>\begin{cases}<br>    i_a&#x3D;I_m\cos(\omega t) \\<br>    i_b&#x3D;I_m\cos(\omega t-\frac{2}{3}\pi) \\<br>    i_c&#x3D;I_m\cos(\omega t+\frac{2}{3}\pi)<br>\end{cases}<br>$$</p>
<p>将上述三个式子代入公式(1)，可以得到</p>
<p>$$<br>\begin{align}<br>    i&amp;&#x3D;k\sqrt{\frac{1}{2}\sum\limits_{cyc}(I_m\cos\omega t-I_m\cos(\omega t-\frac{2}{3}\pi))^2} \\<br>    &amp;&#x3D;k\sqrt{\frac{1}{2}I_m^2\sum\limits_{cyc}(-2\sin(\omega t-\frac{1}{3}\pi)\sin\frac{\pi}{3})^2} \\<br>    &amp;&#x3D;k\sqrt{\frac{1}{2}I_m^2\sum\limits_{cyc}3\sin^2(\omega t-\frac{\pi}{3})} \\<br>    &amp;&#x3D;k\sqrt{\frac{3}{2}I_m^2\sum\limits_{cyc}\frac{1-cos(2\omega t-\frac{2}{3}\pi)}{2}} \\<br>    &amp;&#x3D;k\sqrt{\frac{9}{4}I_m^2} \\<br>    &amp;&#x3D;\frac{3}{2}kI_m<br>\end{align}<br>$$</p>
<p>因此，如果要使变换前后幅值相等，应该令$k&#x3D;\frac{2}{3}$</p>
<h3 id="坐标变换"><a href="#坐标变换" class="headerlink" title="坐标变换"></a>坐标变换</h3><p>在得出了坐标变换的系数之后，就要对物理量进行坐标变换了，在叙述坐标变换的公式之前，应该先清楚坐标变换的目的</p>
<p>在三相永磁同步电机中，如果直接对a,b,c三相进行控制，将会非常复杂，因为a,b,c三相之间会互相耦合，也就是互感不为零，这将给控制带来麻烦</p>
<p>为此，我们希望先将a,b,c三相通过坐标变换变成两相，对两相进行控制，控制完成后再进行逆变换生成对应的三相控制量</p>
<p>具体的部分可参看【永磁同步电机】</p>
<p>坐标变换的类型主要有$abc-\alpha\beta 0,abc-dq0,abc-d_cq_c0$这么三种，具体定义参见下文，明白一种之后很容易就能举一反三，这里只给出$abc-\alpha\beta 0,abc-dq0$的公式</p>
<h4 id="abc-alpha-beta-0"><a href="#abc-alpha-beta-0" class="headerlink" title="$abc-\alpha\beta 0$"></a>$abc-\alpha\beta 0$</h4><p>a,b,c是电机等效绕组的方向，$\alpha$方向与a轴重合，$\beta$方向超前$\alpha$方向90度，如图img3所示</p>
<img src="/images/坐标变换/img3.png" alt="img3" width=50% height="50%">

<p>其实这里的$\alpha\beta$坐标与上面计算$|\boldsymbol{i}|$时用的x，y坐标是一样的，所以有</p>
<p>$$<br>\begin{cases}<br>    i_\alpha&#x3D;i_a-\frac{1}{2}i_b-\frac{1}{2}i_c \\<br>    i_\beta&#x3D;\frac{\sqrt{3}}{2}i_b-\frac{\sqrt{3}}{2}i_c<br>\end{cases}<br>$$</p>
<p>这样我们能通过abc坐标系，算出$i_\alpha,i_\beta$的值，但是反过来却不成立</p>
<p>如果$i_\alpha,i_\beta$的值确立，那么综合矢量就确定了，假设有一组$i_a,i_b,i_c$使得$\boldsymbol{i}&#x3D;\frac{2}{3}(i_a\boldsymbol{a}+i_b\boldsymbol{b}+i_c\boldsymbol{c})$成立</p>
<p>由于$\boldsymbol{a}+\boldsymbol{b}+\boldsymbol{c}&#x3D;0$,$i_a+const,i_b+const,i_c+const$都是满足条件的值，这样就有无数组解，其中const是任意实数，因此还需要一条方程约束</p>
<p>这里先给出方程，再证明为什么给出了这条方程，就能够完全确定$i_a,i_b,i_c$,方程如下</p>
<p>$$<br>\begin{equation}<br>    i_0&#x3D;\frac{1}{3}(i_a+i_b+i_c)<br>\end{equation}<br>$$</p>
<p>证明如下，上面说了，$i_\alpha,i_\beta$给定之后，综合矢量就完全确定了，作综合矢量关于$a,b,c$三轴的投影，并记为$i_a’,i_b’,i_c’$</p>
<p>$$<br>\begin{align}<br>    i_a’&amp;&#x3D;\boldsymbol{i}\cdot \boldsymbol{a} \\<br>    &amp;&#x3D;\frac{2}{3}(i_a-\frac{1}{2}i_b-\frac{1}{2}i_c)<br>\end{align}<br>$$</p>
<p>b，c相同理可得</p>
<p>$$<br>i_b’&#x3D;\frac{2}{3}(i_b-\frac{1}{2}i_c-\frac{1}{2}i_a)<br>$$<br>$$<br>i_c’&#x3D;\frac{2}{3}(i_c-\frac{1}{2}i_a-\frac{1}{2}i_b)<br>$$</p>
<p>可以发现$i_a&#x3D;i_a’+i_0,i_b&#x3D;i_b’+i_0,i_c&#x3D;i_c’+i_0$</p>
<p>这就是说，只要再给定$i_0$，就可以完全推得$i_a,i_b,i_c$</p>
<p>这个过程用矩阵表示如下</p>
<p>$$<br>\begin{bmatrix}<br>    i_\alpha \\<br>    i_\beta \\<br>    i_0<br>\end{bmatrix}&#x3D;\frac{2}{3}<br>\begin{bmatrix}<br>    1 &amp; -\frac{1}{2} &amp; -\frac{1}{2} \\<br>    0 &amp; \frac{\sqrt{3}}{2} &amp; -\frac{\sqrt{3}}{2} \\<br>    \frac{1}{2} &amp; \frac{1}{2} &amp; \frac{1}{2}<br>\end{bmatrix}<br>\begin{bmatrix}<br>    i_a \\<br>    i_b \\<br>    i_c<br>\end{bmatrix}<br>$$</p>
<p>定义</p>
<p>$$<br>\begin{equation}<br>\boldsymbol{C}&#x3D;\frac{2}{3}<br>\begin{bmatrix}<br>    1 &amp; -\frac{1}{2} &amp; -\frac{1}{2} \\<br>    0 &amp; \frac{\sqrt{3}}{2} &amp; -\frac{\sqrt{3}}{2} \\<br>    \frac{1}{2} &amp; \frac{1}{2} &amp; \frac{1}{2}<br>\end{bmatrix}<br>\end{equation}<br>$$</p>
<p>这里的$\boldsymbol{C}$就是变换矩阵，可以算得$|\boldsymbol{C}|\not &#x3D;{0}$，故$\boldsymbol{C}$存在逆矩阵</p>
<p>逆矩阵可以通过纯粹的数学运算得出，也可以通过上述的物理意义得到</p>
<p>$$<br>\begin{equation}<br>\boldsymbol{C}^{-1}&#x3D;<br>\begin{bmatrix}<br>    1 &amp; 0 &amp; 1 \\<br>    -\frac{1}{2} &amp; \frac{\sqrt{3}}{2} &amp; 1 \\<br>    -\frac{1}{2} &amp; -\frac{\sqrt{3}}{2} &amp; 1<br>\end{bmatrix}<br>\end{equation}<br>$$</p>
<p>这样$abc-\alpha\beta 0$的正逆变换就都得到了</p>
<h4 id="abc-dq0"><a href="#abc-dq0" class="headerlink" title="$abc-dq0$"></a>$abc-dq0$</h4><p>d,q轴的定义是以转子转速$\omega$旋转的坐标系，设$\theta$是d轴与q轴的夹角，如img4所示</p>
<img src="/images/坐标变换/img4.png" alt="img4" width=50% height="50%">

<p>这里的坐标变换与$\alpha\beta 0$的坐标变换完全类似，可以根据物理含义直接给出</p>
<p>$$<br>\boldsymbol{C}&#x3D;\frac{2}{3}<br>\begin{bmatrix}<br>    \cos\theta &amp; \cos(\theta-\frac{2}{3}\pi) &amp; \cos(\theta+\frac{2}{3}\pi) \\<br>    -\sin\theta &amp; -\sin(\theta-\frac{2}{3}\pi) &amp; -\sin(\theta+\frac{2}{3}\pi) \\<br>    \frac{1}{2} &amp; \frac{1}{2} &amp; \frac{1}{2}<br>\end{bmatrix}<br>$$<br>$$<br>\boldsymbol{C}^{-1}&#x3D;<br>\begin{bmatrix}<br>    \cos\theta &amp; -\sin\theta &amp; 1 \\<br>    \cos(\theta-\frac{2}{3}\pi) &amp; -\sin(\theta-\frac{2}{3}\pi) &amp; 1 \\<br>    \cos(\theta+\frac{2}{3}\pi) &amp; -\sin(\theta+\frac{2}{3}\pi) &amp; 1<br>\end{bmatrix}<br>$$</p>
<h4 id="abc-d-cq-c0"><a href="#abc-d-cq-c0" class="headerlink" title="$abc-d_cq_c0$"></a>$abc-d_cq_c0$</h4><p>$d_c,q_c$轴是以同步速旋转的坐标系，在方程上与$abc-dq0$是完全一样的，只不过$\frac{d\theta}{dt}&#x3D;\omega_c$为同步速而已</p>
<!--
## 恒功率变换

对于恒功率变换，同样的，我们需要确定k的大小，恒功率变换的原则是变换前后功率相等，瞬态过程的关系式与恒相幅值变换是完全一样的，我们直接通过稳态过程求解k

### 稳态过程

设电压幅值为$U_m$，电流幅值为$I_m$，电流电压之间的相位差为$\phi$，则可以知道变换前的功率为

$$
P=3*\frac{U_m}{\sqrt{2}}*
$$
-->
]]></content>
      <categories>
        <category>电机控制</category>
      </categories>
      <tags>
        <tag>坐标变换</tag>
      </tags>
  </entry>
</search>
